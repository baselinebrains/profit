<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My Google Sheets Website</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>My Google Sheets Data</h1>

  <h2>Dashboard</h2>
  <table class="dataTable">
    <thead id="dashboardHead"></thead>
    <tbody id="dashboardBody"></tbody>
  </table>

  <h2>Tips Log</h2>
  <table class="dataTable">
    <thead id="tipsHead"></thead>
    <tbody id="tipsBody"></tbody>
  </table>

  <script>
    function buildTable(csvUrl, headId, bodyId) {
      fetch(csvUrl)
        .then(response => response.text())
        .then(data => {
          const rows = data.split('\n').map(row => row.split(','));
          const tableHead = document.getElementById(headId);
          const tableBody = document.getElementById(bodyId);

          if (rows.length > 0) {
            let headerRow = '<tr>';
            rows[0].forEach(cell => {
              headerRow += '<th>' + cell + '</th>';
            });
            headerRow += '</tr>';
            tableHead.innerHTML = headerRow;
          }

          for (let i = 1; i < rows.length; i++) {
            let rowHtml = '<tr>';
            rows[i].forEach(cell => {
              rowHtml += '<td>' + cell + '</td>';
            });
            rowHtml += '</tr>';
            tableBody.innerHTML += rowHtml;
          }
        })
        .catch(error => {
          console.error('Error fetching CSV:', error);
        });
    }

    buildTable("https://docs.google.com/spreadsheets/d/e/2PACX-1vR1SqB34ONUqDxXRd6w8vc2VqpaumUypOxIuK-4sTQ6zCr6MHFP-2VsICOr5ILqzg/pub?gid=1265439786&single=true&output=csv", "dashboardHead", "dashboardBody");
    buildTable("https://docs.google.com/spreadsheets/d/e/2PACX-1vR1SqB34ONUqDxXRd6w8vc2VqpaumUypOxIuK-4sTQ6zCr6MHFP-2VsICOr5ILqzg/pub?gid=1251556089&single=true&output=csv", "tipsHead", "tipsBody");
  </script>
</body>
</html>
